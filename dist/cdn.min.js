var Leaf=(function(l){"use strict";let y=[];function k(t){t.deps&&(t.deps.forEach(n=>{n.delete(t)}),t.deps.clear())}function h(t){const n=()=>{k(n),y.push(n),t(),y.pop()};return n.deps=new Set,n(),()=>k(n)}function N(t){let n=t;const o=new Set;return[()=>{const s=y[y.length-1];return s&&(o.add(s),s.deps.add(o)),n},s=>{if(Object.is(n,s))return;n=s,new Set(o).forEach(c=>c())}]}function V(t){let n,o=!0;const e=new Set,r=h(()=>{n=t(),o=!1});return{get value(){const s=y[y.length-1];return s&&(e.add(s),s.deps.add(e)),o&&r(),n}}}const q={},g={};function I(t,n){q[t]=n()}function x(t,n){return g[t]||(g[t]=store()),g[t]}function d(t,n){const o=n.split(".");let e=t;for(const r of o)if(e=e[r],e===void 0)return;return e}function L(t){return t.charAt(0).toUpperCase()+t.slice(1)}function D(t,n){const o=[];return t.querySelectorAll("[data-text]").forEach(e=>{const r=e.dataset.text;if(!r)return;const s=h(()=>{const i=d(n,r);e.textContent=typeof i=="function"?i():i});o.push(s)}),()=>o.forEach(e=>e())}function O(t,n){function o(r){if(r==="true")return!0;if(r==="false")return!1;if(r==="null")return null;if(r!=="undefined")return!isNaN(r)&&r.trim()!==""?Number(r):r}return t.map(r=>{const s=d(n,r);return s!==void 0?typeof s=="function"?s():s:o(r)})}function Y(t=[],n){t.includes("prevent")&&n.preventDefault(),t.includes("stop")&&n.stopPropagation()}const v=new WeakMap;function S(t,n){let o=v.get(t);if(!o)return;const e=o[n];e&&(t.removeEventListener(n,e),delete o[n],Object.keys(o).length===0&&v.delete(t))}function m(t,n,o){let e=v.get(t);e||(e={},v.set(t,e)),S(t,n),t.addEventListener(n,o),e[n]=o}function $(t,n){const o=[];return t.querySelectorAll("[data-on]").forEach(e=>{const r=e.dataset.on;if(!r||!r.includes(":"))return;const[s,i]=r.split(":").map(p=>p.trim()),c=s.split("."),a=c[0],u=c.slice(1),f=e.dataset.param?e.dataset.param.split(",").map(p=>p.trim()):[];m(e,a,p=>{if(Y(u,p),!i)return;const b=d(n,i);if(typeof b=="function"){const w=O(f,n);b(...w,p)}else throw new Error(`[Listener] ${i} must be a function`)}),o.push(()=>{S(e,a)})}),()=>o.forEach(e=>e())}function P(t,n){const o=[];return t.querySelectorAll("[data-if]").forEach(e=>{const r=e.dataset.if;if(!r)return;const s=e.parentNode,i=e.nextSibling,c=h(()=>{const a=d(n,r);(typeof a=="function"?a():a)?e.isConnected||s.insertBefore(e,i):e.isConnected&&s.removeChild(e)});o.push(c)}),()=>o.forEach(e=>e())}function W(t,n){const o=[],e=D(t,n);e&&o.push(e);const r=$(t,n);return r&&o.push(r),()=>o.forEach(s=>s())}function j(t,n){const o=[];return t.querySelectorAll("[data-for]").forEach(e=>{const r=e.querySelector("template");if(!r)return;const s=e.dataset.for;if(!s)return;let i=[];const c=h(()=>{const a=d(n,s),u=typeof a=="function"?a():a||[];i.forEach(f=>f()),i=[],Array.from(e.childNodes).forEach(f=>{f!==r&&f.remove()}),u.forEach((f,M)=>{const p=r.content.cloneNode(!0),b=Array.from(p.children),w={...n,$item:f,$index:M};b.forEach(K=>{const Q=W(K,w);i.push(Q)}),e.appendChild(p)})});o.push(()=>{c(),i.forEach(a=>a()),i=[]})}),()=>o.forEach(e=>e())}function B(t,n){if(t.type==="checkbox"){Array.isArray(n)?t.checked=n.includes(t.value):t.checked=!!n;return}if(t.type==="radio"){t.checked=n===t.value;return}t.value=n??""}function z(t,n){return t.type==="checkbox"?Array.isArray(n())?t.checked?[...n(),t.value]:n().filter(o=>o!==t.value):t.checked:t.type==="radio"?t.checked?t.value:n():t.value}function F(t,n){const o=[];return t.querySelectorAll("[data-model]").forEach(e=>{const r=e.dataset.model;if(!r)return;const s=d(n,r),i=d(n,"set"+L(r));if(typeof s!="function"||typeof i!="function")throw new Error(`[model] "${r}" requires signal "${r}()" and setter "set${L(r)}()"`);const c=h(()=>{B(e,s())}),a=u=>{i(z(e,s))};m(e,"input",a),m(e,"change",a),o.push(()=>{c(),S(e,"input"),S(e,"change")})}),()=>o.forEach(e=>e())}function G(t,n){const e=(t.querySelector("[data-init]")||t).dataset.init;if(e){if(e){const r=d(n,e);if(typeof r=="function")r();else throw new Error(`[init] ${e} must be a function`)}return null}}function R(t,n){const o=[];return t.querySelectorAll("[data-bind]").forEach(e=>{const r=e.dataset.bind;if(!r||!r.includes(":"))return;const[s,i]=e.dataset.bind.split(":").map(u=>u.trim()),c=d(n,i);if(typeof c!="function")throw new Error(`[bind] ${i} is not a signal`);const a=h(()=>{const u=c();u==null?e.removeAttribute(s):u===!0?e.setAttribute(s,""):u===!1?e.removeAttribute(s):e.setAttribute(s,u)});o.push(a)}),()=>o.forEach(e=>e())}function T(t,n){t.style.transition="none",t.style.display="",requestAnimationFrame(()=>{t.style.opacity=0,t.style.transform="translateY(-10px)",requestAnimationFrame(()=>{t.style.transition=n,t.style.opacity=1,t.style.transform="translateY(0)"})}),m(t,"transitionend",o=>{o.propertyName==="transform"&&(t.style.transition="",t.style.opacity="",t.style.transform="")})}function U(t,n){t.style.transition=n,t.style.opacity=0,t.style.transform="translateY(-10px)",m(t,"transitionend",()=>{t.style.display="none",t.style.transition="",t.style.opacity="",t.style.transform=""})}function E(t,n){const o=[];return t.querySelectorAll("[data-show]").forEach(e=>{const r=e.dataset.show;if(!r)return;const s=e.hasAttribute("data-animate"),i=e.getAttribute("data-animate")||"opacity 0.3s ease, transform 0.3s ease";let c=!0;const a=h(()=>{const u=d(n,r);if(typeof u!="function")throw new Error(`[show] ${r} must be a function`);const f=u();if(c){f?(e.style.display="",e.style.opacity="1",e.style.transform="translateY(0)"):e.style.display="none",e.hasAttribute("data-cloak")&&e.removeAttribute("data-cloak"),c=!1;return}s?f?T(e,i):U(e,i):f?e.style.display="":e.style.display="none"});o.push(a)}),()=>o.forEach(e=>e())}const H=[D,$,P,j,F,G,R,E],A=new WeakMap;function C(){document.querySelectorAll("[data-scope]").forEach(t=>{const n=q[t.dataset.scope];if(!n)throw new Error(`Scope ${t.dataset.scope} is not defined`);const o=A.get(t);o&&o.forEach(r=>r());const e=[];H.forEach(r=>{try{const s=r(t,n);typeof s=="function"&&e.push(s)}catch(s){console.error(`[Directive error] ${r.name}`,s,t)}}),A.set(t,e)})}function J(t){const n=A.get(t);n&&(n.forEach(o=>o()),A.delete(t))}return typeof document<"u"&&document.addEventListener("DOMContentLoaded",C),l.computed=V,l.defineScope=I,l.defineStore=x,l.effect=h,l.mount=C,l.signal=N,l.unmount=J,l})({});
