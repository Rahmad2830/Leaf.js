var Leaf=(function(h){"use strict";let y=[];function D(e){e.deps&&(e.deps.forEach(n=>{n.delete(e)}),e.deps.clear())}function l(e){const n=()=>{D(n),y.push(n),e(),y.pop()};return n.deps=new Set,n(),()=>D(n)}function x(e){let n=e;const s=new Set;return[()=>{const o=y[y.length-1];return o&&(s.add(o),o.deps.add(s)),n},o=>{if(Object.is(n,o))return;n=o,new Set(s).forEach(c=>c())}]}const $={},v={};function I(e,n){$[e]=n({$stores:v})}function O(e,n){return v[e]||(v[e]=n()),v[e]}function d(e,n){const s=n.split(".");let t=e;for(const r of s)if(t=t[r],t===void 0)return;return t}function L(e){return e.charAt(0).toUpperCase()+e.slice(1)}function k(e,n){const s=[];return e.querySelectorAll("[data-text]").forEach(t=>{const r=t.dataset.text;if(!r)return;const o=l(()=>{const i=d(n,r);t.textContent=typeof i=="function"?i():i});s.push(o)}),()=>s.forEach(t=>t())}function P(e,n){function s(r){if(r==="true")return!0;if(r==="false")return!1;if(r==="null")return null;if(r!=="undefined")return!isNaN(r)&&r.trim()!==""?Number(r):r}return e.map(r=>{const o=d(n,r);return o!==void 0?typeof o=="function"?o():o:s(r)})}function j(e=[],n){e.includes("prevent")&&n.preventDefault(),e.includes("stop")&&n.stopPropagation()}const S=new WeakMap;function A(e,n){let s=S.get(e);if(!s)return;const t=s[n];t&&(e.removeEventListener(n,t),delete s[n],Object.keys(s).length===0&&S.delete(e))}function g(e,n,s){let t=S.get(e);t||(t={},S.set(e,t)),A(e,n),e.addEventListener(n,s),t[n]=s}function C(e,n){const s=[];return e.querySelectorAll("[data-on]").forEach(t=>{const r=t.dataset.on;if(!r||!r.includes(":"))return;const[o,i]=r.split(":").map(f=>f.trim()),c=o.split("."),a=c[0],u=c.slice(1),p=t.dataset.param?t.dataset.param.split(",").map(f=>f.trim()):[];g(t,a,f=>{if(j(u,f),!i)return;const w=d(n,i);if(typeof w=="function"){const q=P(p,n);w(...q,f)}else throw new Error(`[Listener] ${i} must be a function`)}),s.push(()=>{A(t,a)})}),()=>s.forEach(t=>t())}function W(e,n){const s=[];return e.querySelectorAll("[data-if]").forEach(t=>{const r=t.dataset.if;if(!r)return;const o=t.parentNode,i=t.nextSibling,c=l(()=>{const a=d(n,r);(typeof a=="function"?a():a)?t.isConnected||o.insertBefore(t,i):t.isConnected&&o.removeChild(t)});s.push(c)}),()=>s.forEach(t=>t())}function M(e,n){const s=[];return e.querySelectorAll("[data-show]").forEach(t=>{t.hasAttribute("data-init-hide")&&(t.removeAttribute("data-init-hide"),t.style.display="none");const r=t.dataset.show;if(!r)return;const o=t.hasAttribute("data-animate"),i=t.dataset.animate||"opacity 0.5s ease, transform 0.5s ease",c=l(()=>{const a=d(n,r);if(typeof a!="function")throw new Error(`[show] ${r} must be a function`);o?a()?(t.style.display="",t.style.opacity="0",t.style.transform="translateY(-10px)",requestAnimationFrame(()=>{t.style.opacity="1",t.style.transform="translateY(0)"})):(t.style.opacity="0",t.style.transform="translateY(-10px)",t.style.transition=i,g(t,"transitionend",()=>{a()||(t.style.display="none")})):a()?t.style.display="":t.style.display="none"});s.push(c)}),()=>s.forEach(t=>t())}function N(e,n){const s=[];return e.querySelectorAll("[data-bind]").forEach(t=>{const r=t.dataset.bind;if(!r||!r.includes(":"))return;const[o,i]=t.dataset.bind.split(":").map(u=>u.trim()),c=d(n,i);if(typeof c!="function")throw new Error(`[bind] ${i} is not a signal`);const a=l(()=>{const u=c();u==null?t.removeAttribute(o):u===!0?t.setAttribute(o,""):u===!1?t.removeAttribute(o):t.setAttribute(o,u)});s.push(a)}),()=>s.forEach(t=>t())}function Y(e,n){const s=[],t=k(e,n);t&&s.push(t);const r=C(e,n);r&&s.push(r);const o=M(e,n);o&&s.push(o);const i=N(e,n);return i&&s.push(i),()=>s.forEach(c=>c())}function B(e,n){const s=[];return e.querySelectorAll("[data-for]").forEach(t=>{const r=t.querySelector("template");if(!r)return;const o=t.dataset.for;if(!o)return;let i=[];const c=l(()=>{const a=d(n,o),u=typeof a=="function"?a():a||[];i.forEach(p=>p()),i=[],Array.from(t.childNodes).forEach(p=>{p!==r&&p.remove()}),u.forEach((p,m)=>{const f=r.content.cloneNode(!0),w=Array.from(f.children),q={...n,$item:p,$index:m};w.forEach(K=>{const Q=Y(K,q);i.push(Q)}),t.appendChild(f)})});s.push(()=>{c(),i.forEach(a=>a()),i=[]})}),()=>s.forEach(t=>t())}function z(e,n){if(e.type==="checkbox"){Array.isArray(n)?e.checked=n.includes(e.value):e.checked=!!n;return}if(e.type==="radio"){e.checked=n===e.value;return}e.value=n??""}function G(e,n){return e.type==="checkbox"?Array.isArray(n())?e.checked?[...n(),e.value]:n().filter(s=>s!==e.value):e.checked:e.type==="radio"?e.checked?e.value:n():e.value}function T(e,n){const s=[];return e.querySelectorAll("[data-model]").forEach(t=>{const r=t.dataset.model;if(!r)return;const o=d(n,r),i=d(n,"set"+L(r));if(typeof o!="function"||typeof i!="function")throw new Error(`[model] "${r}" requires signal "${r}()" and setter "set${L(r)}()"`);const c=l(()=>{z(t,o())}),a=u=>{i(G(t,o))};g(t,"input",a),g(t,"change",a),s.push(()=>{c(),A(t,"input"),A(t,"change")})}),()=>s.forEach(t=>t())}function U(e,n){const t=(e.querySelector("[data-init]")||e).dataset.init;if(t){if(t){const r=d(n,t);if(typeof r=="function")r();else throw new Error(`[init] ${t} must be a function`)}return null}}function E(e,n){const s=[];return e.querySelectorAll("[data-class]").forEach(t=>{const r=t.dataset.class.split(",");r&&r.forEach(o=>{if(!o.trim())return;const[i,...c]=o.split(":");if(i){if(c.length===0)throw new Error("[class] a class is required for adding class")}else throw new Error("[class] a function is required for adding class");const u=c.join(":").trim().replace(/^['"]|['"]$/g,""),p=l(()=>{const m=d(n,i.trim());if(typeof m=="function")u.split(/\s+/).forEach(f=>{f&&t.classList.toggle(f,m())});else throw new Error(`[class] ${i} must be a function`)});s.push(p)})}),()=>s.forEach(t=>t())}const H=[k,C,W,B,T,U,N,M,E],b=new WeakMap;function V(){document.querySelectorAll("[data-scope]").forEach(e=>{const n=$[e.dataset.scope];if(!n)throw new Error(`Scope ${e.dataset.scope} is not defined`);const s=b.get(e);s&&s.forEach(r=>r());const t=[];H.forEach(r=>{try{const o=r(e,n);typeof o=="function"&&t.push(o)}catch(o){console.error(`[Directive error] ${r.name}`,o,e)}}),b.set(e,t)})}function J(e){const n=b.get(e);n&&(n.forEach(s=>s()),b.delete(e))}return typeof document<"u"&&document.addEventListener("DOMContentLoaded",V),h.defineScope=I,h.defineStore=O,h.effect=l,h.mount=V,h.signal=x,h.unmount=J,h})({});
